function SelectElement(){this.key;this.label}function Locations(){this.rows=[];this.AddData=function(n){this.rows.push(n)}}var _schedulerAPIURL="api/Scheduler",_schedulerContainer="scheduler1",_eventDetailContainer="EventDetail",$schedulerContainer=$("#scheduler1"),$dhx_cal_data=$(".dhx_cal_data"),$EventDetail=$("#EventDetail"),defaulInterestValue="Select Interest",defaulLocationValue="Select Location",defaulClassValue="Select Class",mobileSch=null,eventtypes=[{key:1,label:"Drop-In Workshops",color:"#ED1C24"},{key:2,label:"Group Exercise",color:"#C6168D"},{key:3,label:"Lap Swim",color:"#20BDBE"},{key:4,label:"Open Swim",color:"#00AEEF"},{key:5,label:"Open Gym",color:"#FCAF17"},{key:6,label:"Stay & Play",color:"#F47917"},{key:7,label:"Upcoming Events",color:"#88278F"}],ww=$(window).width(),isMobile,GetElement;ww=600;isMobile=ww<900;isMobile=!1;GetElement=function(n){return document.getElementById(n)};$(document).ready(function(){var n={SchedulerData:ko.observableArray(),FilteredSchedulerData:ko.observableArray(),SchedulerLocations:ko.observableArray(),CalendarLocations:ko.observableArray(),SchedulerInterests:ko.observableArray([defaulInterestValue]),SchedulerClasses:ko.observableArray([defaulClassValue]),SchedulerEvents:ko.observableArray(),SelectedInterest:ko.observable(),SelectedClass:ko.observable(),SelectedEvent:ko.observable(),IsGroupInterest:ko.observable(!1),LocationID:ko.observable(),isLoadComplete:ko.observable(!1),SetSections:function(n){var t=this;isMobile||(n==null&&(n=t.CalendarLocations()),scheduler.createTimelineView({name:"timeline",x_unit:"minute",x_date:"%h:%i %A",x_step:60,x_size:15,x_start:5,x_length:24,y_unit:n,y_property:"location_id",render:"bar",section_autoheight:!0,fit_events:!0}))},InitSchedulerData:function(){var n=this;$.getJSON(_schedulerAPIURL,function(t){n.SchedulerData(t);ko.utils.arrayForEach(n.SchedulerData().Interests,function(t){if(n.SchedulerInterests().indexOf(t.Description)<0&&n.SchedulerInterests.push(t.Description),t.IsGroup){var i=null;n.SchedulerClasses().length===0&&n.SchedulerClasses.push(defaulClassValue);ko.utils.arrayForEach(t.Classes,function(r){i=ko.utils.arrayFilter(n.SchedulerClasses(),function(n){return n.Description===r.Description});i.length==0&&n.SchedulerClasses.push(r.Description);ko.utils.arrayForEach(r.Events,function(i){n.ProcessLocation(i);n.ProcessEvent(i,t.Description,r.Description)})})}else ko.utils.arrayForEach(t.Events,function(i){n.ProcessLocation(i);n.ProcessEvent(i,t.Description,null)})});isMobile||n.SetSections(n.CalendarLocations());n.isLoadComplete(!0);isMobile||n.SizeScheduler();n.LoadSchedulerData(n.SchedulerEvents())})},ProcessEvent:function(n,t,i){var r=this,u=ko.utils.arrayFilter(r.SchedulerLocations(),function(t){return t.label===n.Center.Description}),f={ID:r.SchedulerEvents().length,ClassName:n.ClassName,text:n.Description,DaysOffered:n.DaysOffered,DatesAvailable:n.DatesAvailable,Gender:n.Gender,Age:n.Age,ActivityLevel:n.ActivityLevel,Category:n.Category,Room:n.Room,ContactInfo:n.ContactInfo,Price:n.Price,Interest:t,EventClass:i,Location:u[0].label,start_date:n.start_date,end_date:n.end_date,location_id:u[0].key};r.SchedulerEvents.push(f)},ProcessLocation:function(n){var i=this,t=null;i.SchedulerLocations().length===0?(t=new SelectElement,t.key=0,t.label=defaulLocationValue,i.SchedulerLocations.push(t),t=new SelectElement,t.key=i.SchedulerLocations().length,t.label=n.Center.Description,i.SchedulerLocations.push(t),i.CalendarLocations.push(t)):t=ko.utils.arrayFilter(i.SchedulerLocations(),function(t){return t.label===n.Center.Description});t.length==0&&(t=new SelectElement,t.key=i.SchedulerLocations().length,t.label=n.Center.Description,i.SchedulerLocations.push(t),i.CalendarLocations.push(t))},LoadSchedulerData:function(n){isMobile?(scheduler.config.init_date=new Date,scheduler.config.readonly=!0,scheduler.config.form=[{view:"text",label:scheduler.locale.labels.label_event,id:"text",name:"text"},{view:"text",label:"Location",id:"LocationName"},{view:"text",label:"Interest",id:"EventGroup"}],dhx.ready(function(){$schedulerContainer.height("500px");dhx.ui({view:"scheduler",id:"scheduler_mob",container:_schedulerContainer});$$("scheduler_mob").parse(ko.toJSON(n),"json")})):(scheduler.clearAll(),scheduler.parse(ko.toJSON(n),"json"))},SizeScheduler:function(){var r=this,t,i,n;isMobile||(t=$(window).width(),i=$(window).height(),$schedulerContainer.height(i/1.95),$dhx_cal_data.height($schedulerContainer.height()),n=typeof scheduler.getState().date=="undefined"?new Date:scheduler.getState().date,r.isLoadComplete()&&(t<900?scheduler.init(_schedulerContainer,n,"month"):scheduler.init(_schedulerContainer,n,"timeline")))},SchedulerDismissLightBox:function(){scheduler.endLightbox(!1,GetElement(_eventDetailContainer))},SchedulerExportToPDF:function(){scheduler.exportToPDF({format:"A4",orientation:"landscape",zoom:1,header:"<h1>My company<\/h1>",footer:"<h4>Bottom line<\/h4>",name:"Y-Schedule.pdf"})},InitScheduler:function(){var n=this;isMobile||(scheduler.locale.labels.timeline_tab="Timeline",scheduler.config.details_on_create=!1,scheduler.config.details_on_dblclick=!1,scheduler.config.xml_date="%Y-%m-%d %H:%i",scheduler.config.show_loading=!0,scheduler.config.drag_create=!1,scheduler.config.cascade_event_display=!1,scheduler.config.cascade_event_count=4,scheduler.config.cascade_event_margin=10,scheduler.xy.scale_height=30,scheduler.templates.event_class=function(t,i,r){var u=n.GetKeyVal(r.Interest,eventtypes);r.color=u==null?"#428bca":u.color},scheduler.attachEvent("onBeforeDrag",function(n){return scheduler.getEvent(n).readonly=!0,!1}),scheduler.attachEvent("onClick",function(t){var i=scheduler.getEvent(t);n.SelectedEvent(i);scheduler.startLightbox(t,GetElement(_eventDetailContainer))}),n.SizeScheduler())},FilterEvents:function(){var t=this;if(t.isLoadComplete()){var i=null,r=typeof t.LocationID()=="undefined"?0:t.LocationID(),u=t.SelectedInterest(),f=t.SelectedClass(),e=ko.utils.arrayFilter(t.SchedulerLocations(),function(n){return n.key===r});e.length>0&&r!==0&&t.SetSections(e);r===0&&u===defaulInterestValue?(t.LoadSchedulerData(t.SchedulerEvents()),t.SetSections(null)):(i=ko.utils.arrayFilter(t.SchedulerEvents(),function(n){return n.location_id==r}),i.length===0&&(i=t.SchedulerEvents()),u!=defaulInterestValue&&(i=ko.utils.arrayFilter(i,function(n){return n.Interest==u})),i.length>0&&f!=defaulClassValue&&(i=ko.utils.arrayFilter(i,function(n){return n.EventClass==f})),t.FilteredSchedulerData(i),t.LoadSchedulerData(n.FilteredSchedulerData()));t.SizeScheduler()}},GetKeyVal:function(n,t){var i=null;return ret=ko.utils.arrayFilter(t,function(t){return t.label==n}),ret.length>0&&(i=ret[0]),i}};n.SelectedClass.subscribe(function(){n.FilterEvents()});n.SelectedInterest.subscribe(function(t){n.SelectedClass(defaulClassValue);t===defaulInterestValue&&n.IsGroupInterest(!1);var i=ko.utils.arrayFilter(n.SchedulerData().Interests,function(n){return n.Description===t});i.length>0&&n.IsGroupInterest(i[0].IsGroup);n.FilterEvents()});n.LocationID.subscribe(function(){n.SelectedInterest(defaulInterestValue);n.FilterEvents()});$(window).resize(function(){n.SizeScheduler()});n.InitScheduler();n.InitSchedulerData();ko.applyBindings(n)});
/*
//# sourceMappingURL=YScheduler.min.js.map
*/